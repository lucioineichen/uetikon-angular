<div class="add-container">
  <button
    class="add"
    mat-mini-fab
    matTooltip="LernJob Erstellen"
    aria-label="LernJob Erstellen"
    color="primary"
    (click)="openStudyJobCreator()"
  >
    <mat-icon>add</mat-icon>
  </button>
</div>

<mat-list *ngIf="tree$ | async as tree; else loading" class="list">
  <mat-list-item
    *ngFor="let folder of tree.folders; let i = index"
    [ngClass]="{
      'dark-background': i % 2 !== 0,
      'light-background': i % 2 === 0
    }"
    class="repo"
    (dblclick)="openFolder()"
  >
    <mat-icon matListItemIcon>folder</mat-icon>
    <div matListItemTitle>{{ folder.name }}</div>
    <div matListItemLine>Details...</div>
  </mat-list-item>

  <mat-list-item
    *ngFor="let job of tree.studyJobs; let i = index"
    [ngClass]="{
      'dark-background': i + (tree.folders.length % 2) !== 0,
      'light-background': i + (tree.folders.length % 2) === 0
    }"
    class="repo"
    (dblclick)="openJob(job)"
  >
    <div matListItemTitle>{{ job.name | titlecase }}</div>
  </mat-list-item>

  <div *ngIf="tree.folders.length + tree.studyJobs.length === 0">
    Es gibt noch keine LernJobs
  </div>
</mat-list>

<ng-template #loading>
  <div *ngIf="!isError; else error">LÃ¤dt LernJobs</div>
</ng-template>

<ng-template #error> Lern Jobs konnten nicht geladen werden </ng-template>
